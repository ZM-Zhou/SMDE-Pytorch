train_dataset:
  params:
    is_fixK: v2
    output_frame: [-1, 1]
    normalize_params: [0, 0, 0]
    multi_out_scale: [3,2,1]

val_dataset:
  params:
    is_fixK: v2
    normalize_params: [0, 0, 0]

model:
  type: Monodepth2

loss:
  types:
    - type: MD2_PhotoLoss
      rate: 1
      name: photo_auto_min-0
      args:
        preds_n: ['proj_img_-1_0_{}',
                  'proj_img_1_0_{}']
        idents_n: [color_-1,
                   color_1]
        target_n: color_{}
    - type: SmoothLoss
      rate: 0.001
      name: smooth-0
      args:
        pred_n: disp_0_{}
        image_n: color_{}
        relative_smo: True

pred_size: [192, 640]
pred_norm: [0, 0, 0]

visual:
  type:
    color_s: img
    disp_0_s: disp
    photo_auto_min-0/s: error_heat
    proj_img_1_0_s: img
    proj_img_-1_0_s: img
    disp_3_s: disp
    disp_2_s: disp
    disp_1_s: disp
  shape: [[color_s, disp_0_s],
          [photo_auto_min-0/s, disp_3_s],
          [disp_2_s, disp_1_s],
          [proj_img_1_0_s, proj_img_-1_0_s]]

_train: options/_base/datasets/kitti_train_192_mono.yaml
_val: options/_base/datasets/kitti_test_192.yaml
